<!DOCTYPE html>
<html lang="en">
    <%- include('../partials/head.ejs') %> 
<body>
    <%- include('../partials/header.ejs') %> 

    <h1 class="margin">Attractions from all over the World</h1>

        <div class="container-fluid" id="container-index2">

            <!-- Sort By Bar -->
            
            <form class="inline-form sort-form" id="sort" action="/attractions" method="GET"> 
                <div class="input-group mb-3" style="max-width: 300px;">
                    <div>
                        <label class="input-group-text" style="background-color:  rgb(94, 25, 39); color: white;" for="inputGroupSelect01">Sort By</label>
                    </div>
                        <select class="form-select" id="inputGroupSelect01" name="sortBy" onchange="if(this.value != 0) { this.form.submit(); }" style="border-radius:5px ;">
                            <option value="none" 
                            <% if (select === "none") { %> 
                                selected 
                            <% } %> >Choose Sort Option...</option>
                            
                            <option value="mostRecent" 
                                <% if (select === "recent") { %> 
                                    selected 
                                <% } %> >Most Recent</option>
                            
                            <option value="locationName" 
                                <% if (select === "alphabetically") { %> 
                                    selected 
                                <% } %> >Attraction A-Z</option>      
                       </select>
                </div>
            </form>

            <!-- Rest of the page. loop with cards -->

            <div class="row row-cols-2 row-cols-md-3 g-4">
            
                <% for(let i = 0; i < attractions.length; i++) { %>
                    <div class="col">
                        <div class="card">
                            <a class="animation-hover" href="/attractions/<%=attractions[i].id%>">
                                <img src="<%=attractions[i].image%>" class="card-img-top" alt="...">
                                <div class="card-body">
                                    <h5 class="card-title"><%=attractions[i].place%></h5>
                                    <p class="card-text"><%=attractions[i].descriptionOfPlace.substring(0, 74) + "..." %> </p>
                                </div>
                            </a>
                        </div>
                    </div>
                <% } %>
            </div>
        </div>


<%- include('../partials/footer.ejs') %>
    <!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
</body>
</html>