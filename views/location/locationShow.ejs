<!DOCTYPE html>
<html lang="en">

<%- include('../partials/head.ejs') %> 
<body>
    <%- include('../partials/header.ejs') %> 
    
    <h1 class="margin"><%=locations.location%></h1>
    <div class="container" id="container-index2">

        <div class="clearfix">
            <img src="<%=locations.img%>" class="col-md-6 float-md-end mb-3 ms-md-3 img-fluid rounded" alt="...">
          
            <p> 
                <%=locations.description%>
            </p>
        
            <p>
                <h5>Food:</h5>
            Typical food: <%=locations.food%>.
            </p>
        
            <p>
                <h5>Hotel:</h5>
            Average price for hotels: $<%=locations.hotelPrice%>. 
            </p>
    
            <p>
                <h5>Flight:</h5>
                Usually the flight cost goes around: $<%=locations.flightPrice%> per person.
            </p>

            <p>
                Book a flight <a class="flight" href="<%=locations.bookingLink%>">here</a>.
            </p>
        </div>
        <div class="buttons">
            <% if (currentUser) { %> 
            <button type="button" id="delete-location" class="btn btn-danger">
                <form action="/locations/<%=locations.id%>?_method=DELETE" method="POST">
                    <input type="submit" value="Delete Destination" style='border: none; color: black; background: none;'/>
                </form>
            </button>
            <button type="button" id="try" class="btn btn-outline-success">
                <a href="/locations/<%=locations.id%>/edit" style='text-decoration: none; color: black; background: none;'>Edit Destination</a>
            </button>
            <% } else { %> 
                <p>To Edit and Delete: <a style="text-decoration: underline" href="/user/new">Sign Up</a> or <a style="text-decoration: underline"  href="/sessions/new">Log In</a></p>
                
            <% } %>
        </div>
        
        
        <div class="container-fluid" id="container-index2">
            <h4>While in <%=locations.location%>, don't forget to visit:</h4>
            
            <div class="row row-cols-2 row-cols-md-3 g-4">
            
                <% for(let i = 0; i < locations.attractions.length; i++) { %>
                    <div class="col">
                        <div class="card">
                            <a class="animation-hover" href="/attractions/<%=locations.attractions[i].id%>">
                                <img src="<%=locations.attractions[i].image%>" class="card-img-top" alt="...">
                                <div class="card-body">
                                    <h5 class="card-title"><%=locations.attractions[i].place%></h5>
                                    <p class="card-text"><%=locations.attractions[i].descriptionOfPlace.substring(0, 74) + "..." %> </p>
                                </div>
                            </a>
                        </div>
                    </div>
                <% } %>
            </div>
        </div>

    </div>

<%- include('../partials/footer.ejs') %>
    <!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>

</body>
</html>